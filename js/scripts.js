function processDom(){$("body").append("<span class='medium'></span><span class='large'></span><span class='xlarge'></span><span class='xxlarge'></span>"),$(".justified").each(function(){for(var i=$(this).text(),e=i.split(""),t="",a=0;a<e.length;a++)" "===e[a]?t+="&nbsp; ":(t+=e[a],a<e.length-1&&(t+=" "));$(this).html(t)}),$(".page").each(function(){0!==$(this).find(".wrapper").length&&$(this).prepend("<div class='header-cover'><div></div></div>")}),$(".works-list li").each(function(){$(this).addClass($(this).data("id"));var i=$(this).find("h3").html();$(this).find("h3").html("<span class='project-name'>"+i+"</span><span class='brand'><span class='logo'></span></span>"),$(this).find("h3").clone().addClass("alt").appendTo($(this).find("a")),$(this).find(".alt").wrap("<span class='althold'></span>"),$(this).find(".althold").wrap("<span class='altwrap'></span>"),$(this).find("a").prepend("<span class='backdrop'></span>")}),mobileProjectImages&&$(".works-list a").addClass("full"),$(".project-wrapper").appendTo("body"),$(".project-wrapper").find(".project").clone().appendTo(".projects-inner"),$(".project-wrapper").find(".project").first().removeAttr("class").addClass("project project-holder"),$(".project-holder").prepend("<div class='project-images'><div class='main-image'><span><span><i class='animate-spin icon-spin1'></i></span></span></div><ul class='image-list'></ul></div>"),$(".project-holder").find(".project-info").clone().addClass("top-info hide-for-xlarge").prependTo(".project-holder"),$(".skillset li").each(function(){$(this).html("<span class='wrap'><span class='corner'></span><span><span>"+$(this).html()+"</span></span></span>")})}function init(){processDom(),console.log("\n\nWelcome to Evident Agenda.\nFeel free to tinker.\nYou can also give me a shout at hello@lj.ie\n\n")}function onload(){$(window).resize(resize),setTimeout(function(){$(".mailto span").html(atob("aGVsbG9AbGouaWU=")),$(".mailto").attr("href","mailto:"+atob("aGVsbG9AbGouaWU=")),resize(),enableInteractions(),setTimeout(function(){$(".loader").addClass("loaded"),$(window).scrollTop(0),setTimeout(function(){$(".loader").remove()},3e3)},1e3)},500)}function resize(){if(winH=$(window).height(),winW=$(window).width(),navH=$("nav").find(".logo").outerHeight(!1),genPadding=Math.floor(.03*winW),parallaxOffset=winW>winH?Math.floor(winH/1.5):50,isMedium=$(".medium").is(":visible"),isLarge=$(".large").is(":visible"),isXlarge=$(".xlarge").is(":visible"),isXXlarge=$(".xxlarge").is(":visible"),$(".header-cover").each(function(){var i=$(this);$(this).find("div").css({"border-left-width":Math.ceil(i.outerWidth(!1)/2)+1,"border-right-width":Math.ceil(i.outerWidth(!1)/2)+1})}),$(".page").each(function(){$(this).find("header .holder").css("width",""),$(this).find("header .holder").css("width",$(this).find("header h1").textWidth()+6);var i=$(this).find("header .holder").outerHeight(!1);isXlarge&&(i+=$(this).find(".header-cover").outerHeight(!1)),$(this).find("header .wrapper").css("min-height",Math.floor(i)+"px");var e=Math.floor(($(this).find("header").outerHeight(!1)-$(this).find(".holder").outerHeight(!1))/2);isXlarge&&(e+=30),mobileParallax||isLarge?$(this).find("header .holder").css("top",Math.floor(e-parallaxOffset/2)):($(this).find("header .holder").css("transform",""),$(this).find("header .holder").css("top",Math.floor(e)));var t=$(this).find("header").outerWidth(!1);$(this).find(".holder").css("left",Math.floor((t-$(this).find(".holder").outerWidth(!1))/2))}),$(".works-list li").each(function(){if($(this).find(".brand, .project-name").css("margin-top",""),$(this).find("a").css("width",""),isXlarge)if($(this).find(".project-name").outerHeight(!1)>=$(this).find(".brand").outerHeight(!1)){var i=$(this).find(".project-name").outerHeight(!1)-$(this).find(".brand").outerHeight(!1);$(this).find(".brand").css("margin-top",Math.floor(i/2)),$(this).find(".project-name").css("margin-top",0)}else{var i=$(this).find(".brand").outerHeight(!1)-$(this).find(".project-name").outerHeight(!1);$(this).find(".brand").css("margin-top",0),$(this).find(".project-name").css("margin-top",Math.floor(i/2))}if($(this).find("a").css("width",Math.floor($(this).find("a").outerWidth(!1))),$(this).find("a").css("padding-top",""),$(this).find(".alt").css("margin-top",""),isMedium){var e=$(this).outerHeight(!1)-$(this).find("h3").outerHeight(!1);isXlarge||(e+=Math.floor($(".logo").outerHeight(!1)/3)),$(this).find("a").css("padding-top",Math.floor(e/2)),$(this).find(".alt").css("margin-top",Math.floor(e/2))}}),$(".main-img, .end-img, .left-img, .right-img").find("div").css("height",""),isMedium&&$(".main-img, .end-img, .left-img, .right-img").find("div").css("height",$(".right-img").find("div").outerHeight(!1)),isXlarge?$(".todo .skillset li").each(function(){$(this).find(".wrap").css("width",$(".skills .skillset li .wrap").outerWidth(!1)),$(this).css("width","auto")}):$(".todo .skillset li").each(function(){$(this).find(".wrap").css("width",""),$(this).css("width","")}),$(".skillset li").each(function(){$(this).find(".wrap").css("height",$(".skillset li").find(".wrap").outerWidth(!1))}),$(".profile-image").find("div").css("height",""),$(".profile-image").find("div").css("height",Math.ceil($(".profile-image").outerHeight(!1))),$(".profile-head > div").each(function(){$(this).find("a, div").css("height",""),$(this).find("a").css("height",""),$(this).hasClass("profile-cv")&&!isLarge||($(this).find("div").css("height",Math.floor($(".profile-image div").outerHeight(!1))),$(this).find("a").css("height",""),$(this).find("a").css("height",Math.floor($(".profile-image div").outerHeight(!1))-2))}),isLarge&&$("nav").removeClass("opened"),$(".project-details").css("margin-top",""),$(".project-wrapper").css("padding-top",""),isXlarge&&$(".project-details").outerHeight(!1)<winH){var i=Math.floor((winH-$(".project-details").outerHeight(!1))/2);$(".project-wrapper").css("padding-top",0),$(".project-details").css("margin-top",i)}$(".home").css("height",""),$(".home").find(".hold").outerHeight(!1)<Math.ceil(winH-navH-$(".continue").outerHeight(!1))&&$(".home").css("height",Math.ceil(winH-navH)),updatePosition(!0)}function enableInteractions(){$("body").on("touchmove",function(){updatePosition(!1)}),$(window).on("scroll",function(){updatePosition(!1)}),$(".works-list a").on("click",function(i){i.preventDefault(),openProject($(this).parents("li").data("id"))}),$(".menu-toggle").on("click",function(i){i.preventDefault(),$("nav").toggleClass("opened")}),$(".nav-items a, nav .logo, .continue").on("click",function(i){i.preventDefault();var e=$(this).attr("href");$("nav").removeClass("opened");var t=Math.ceil($(e).offset().top-navH);isXlarge&&(t+=$(e).find(".header-cover").outerHeight(!1));Math.abs($(window).scrollTop()-t);$("html, body").stop().animate({scrollTop:t},800,"easeOutCubic")}),$(".theme-switch").on("click",function(i){i.preventDefault(),$("body").toggleClass("themed")})}function updatePosition(i){(currentScroll!==$(window).scrollTop()||i)&&(currentScroll=$(window).scrollTop(),$(".page").each(function(){if(0!==$(this).find(".wrapper").length){var i=$(this),e=Math.floor($(this).offset().top-1.1*winH),t=Math.floor($(this).offset().top+1.1*winH);if(currentScroll>=e&&currentScroll<=t)if(mobileParallax||isLarge){var a=(currentScroll-e)/(t-e);requestAnimationFrame(function(){redrawParallax(i,Math.floor(a*parallaxOffset))})}else requestAnimationFrame(function(){redrawParallax(i,0)});else requestAnimationFrame(function(){redrawParallax(i,0)})}}))}function redrawParallax(i,e){i.find("header .holder").css("transform","translateY("+e+"px)"),i.find(".wrapper .holder").css("background-color","#fefefe"),i.find(".wrapper .holder").css("background-color","")}function openProject(i){$(".project-holder").find(".project-info").html($(".project."+i).find(".project-info").html()),$(".project-holder .details-close").on("click",function(i){i.preventDefault(),closeProjects()}),$(".project-wrapper").hasClass("opened")||($(".project-wrapper").addClass("opened"),lastPosition=currentScroll,$(".site").css("height",0),$(window).scrollTop(0),resize()),$(".project-holder").find(".main-image").find("span").removeClass("loaded"),$(".project-holder").find(".image-list").removeClass("loaded"),$(".project-holder").find(".main-image").find("img").remove();for(var e=$(".project."+i).data("images").split(","),t="",a="",n=0;n<e.length;n++)t+="<img src='img/"+e[n]+"' class='img"+(n+1)+"'/>",a+="<li><a data-num='"+(n+1)+"'><img src='img/"+e[n]+"' class='thumb"+(n+1)+"'/></a></li>";$(".project-holder").find(".main-image").append(t),$(".project-holder").find(".image-list").html(a),$(".project-holder").find(".main-image").imagesLoaded(function(){setTimeout(function(){$(".project-holder").find(".main-image").find("span").addClass("loaded"),$(".project-holder").find(".image-list").addClass("loaded")},500)}),$(".project-holder").find(".image-list").find("li").first().addClass("active"),$(".project-holder").find(".image-list").find("a").on("click",function(i){i.preventDefault(),$(".project-holder").find(".image-list").find("li").removeClass("active"),$(this).parents("li").addClass("active");var e=$(this).data("num");$(".project-holder").find(".main-image").find("img").css("z-index","3000"),$(".project-holder").find(".main-image").find(".img"+e).css("z-index","3001")})}function closeProjects(){$(".site").css("height",""),$(window).scrollTop(lastPosition),$(".project-wrapper").removeClass("opened")}var currentScroll=0,winH=0,winW=0,navH=0,genPadding=0,particlesEnabled=!1,isMedium=!1,isLarge=!1,isXlarge=!1,isXXlarge=!1,projectsOpened=!1,parallaxOffset=0,lastPosition=0,mobileParallax=!1,mobileProjectImages=!1;$(document).ready(init),$(window).load(onload),$.fn.textWidth=function(){var i=$(this).html(),e="<span>"+i+"</span>";$(this).html(e);var t=$(this).find("span:first").width();return $(this).html(i),t},function(){for(var i=0,e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var a=(new Date).getTime(),n=Math.max(0,16-(a-i)),s=window.setTimeout(function(){e(a+n)},n);return i=a+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){clearTimeout(i)})}();
//# sourceMappingURL=scripts.js.map
